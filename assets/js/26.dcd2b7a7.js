(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{183:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._m(3),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),e("blockquote"),t._v(" "),t._m(18),t._v(" "),e("p",[t._v("Defaults to "),e("code",[t._v("false")]),t._v(". Zookeeper’s "),e("a",{attrs:{href:"http://zookeeper.apache.org/doc/trunk/zookeeperReconfig.html#sc_reconfig_standaloneEnabled",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("standaloneEnabled")]),e("OutboundLink")],1)]),t._v(" "),e("blockquote"),t._v(" "),t._m(19),t._v(" "),e("p",[t._v("Defaults to "),e("code",[t._v("0")]),t._v(". Zookeeper’s "),e("a",{attrs:{href:"https://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_advancedConfiguration",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("autoPurge.purgeInterval")]),e("OutboundLink")],1)]),t._v(" "),e("blockquote"),t._v(" "),t._m(20),t._v(" "),e("p",[t._v("Defaults to "),e("code",[t._v("3")]),t._v(". Zookeeper’s "),e("a",{attrs:{href:"https://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_advancedConfiguration",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("autoPurge.snapRetainCount")]),e("OutboundLink")],1)]),t._v(" "),e("blockquote"),t._v(" "),t._m(21),t._v(" "),e("p",[t._v("Environment variables below are mandatory if you want to run Zookeeper in replicated mode.")]),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"docker-安装zookeeper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-安装zookeeper","aria-hidden":"true"}},[this._v("#")]),this._v(" docker 安装zookeeper")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"单机安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单机安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 单机安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("docker run --privileged=true -d --name zookeeper --publish 2181:2181  -d --restart always zookeeper:latest\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zk")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" zookeeper"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" zk\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2181:2181"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"集群安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集群安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 集群安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"单机集群"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单机集群","aria-hidden":"true"}},[this._v("#")]),this._v(" 单机集群")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3.1'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zoo1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" zookeeper\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" zoo1\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 2181"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2181")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ZOO_MY_ID")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ZOO_SERVERS")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" server.1=0.0.0.0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("2888"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3888 server.2=zoo2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("2888"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3888 server.3=zoo3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("2888"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3888")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zoo2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" zookeeper\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" zoo2\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 2182"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2181")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ZOO_MY_ID")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ZOO_SERVERS")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" server.1=zoo1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("2888"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3888 server.2=0.0.0.0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("2888"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3888 server.3=zoo3"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("2888"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3888")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zoo3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" zookeeper\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" zoo3\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 2183"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2181")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ZOO_MY_ID")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ZOO_SERVERS")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" server.1=zoo1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("2888"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3888 server.2=zoo2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("2888"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3888 server.3=0.0.0.0"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("2888"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3888")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"zoo-tick-time"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zoo-tick-time","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("ZOO_TICK_TIME")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Defaults to "),s("code",[this._v("2000")]),this._v(". ZooKeeper’s "),s("code",[this._v("tickTime")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("默认2秒")]),this._v(" "),s("p",[this._v("基本事件单元，以毫秒为单位。"),s("strong",[this._v("它用来控制心跳和超时，默认情况下最小的会话超时时间为两倍的 tickTime")])]),this._v(" "),s("p",[this._v("例如session超时：N*tickTime")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"zoo-init-limit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zoo-init-limit","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("ZOO_INIT_LIMIT")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Defaults to "),s("code",[this._v("5")]),this._v(". ZooKeeper’s "),s("code",[this._v("initLimit")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("用于集群，允许从节点连接并同步到master节点的初始化连接时间，以tickTime的倍数来表示")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"zoo-sync-limit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zoo-sync-limit","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("ZOO_SYNC_LIMIT")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Defaults to "),s("code",[this._v("2")]),this._v(". ZooKeeper’s "),s("code",[this._v("syncLimit")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("用于集群，master主节点与从节点之间发送消息，请求和应答时间长度（心跳机制）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"zoo-max-client-cnxns"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zoo-max-client-cnxns","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("ZOO_MAX_CLIENT_CNXNS")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Defaults to "),s("code",[this._v("60")]),this._v(". ZooKeeper’s "),s("code",[this._v("maxClientCnxns")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"zoo-standalone-enabled"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zoo-standalone-enabled","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("ZOO_STANDALONE_ENABLED")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"zoo-autopurge-purgeinterval"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zoo-autopurge-purgeinterval","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("ZOO_AUTOPURGE_PURGEINTERVAL")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"zoo-autopurge-snapretaincount"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zoo-autopurge-snapretaincount","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("ZOO_AUTOPURGE_SNAPRETAINCOUNT")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"replicated-mode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#replicated-mode","aria-hidden":"true"}},[this._v("#")]),this._v(" Replicated mode")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"zoo-my-id"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zoo-my-id","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("ZOO_MY_ID")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The id must be unique within the ensemble and should have a value between 1 and 255. Do note that this variable will not have any effect if you start the container with a "),s("code",[this._v("/data")]),this._v(" directory that already contains the "),s("code",[this._v("myid")]),this._v("file.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"zoo-servers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zoo-servers","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("ZOO_SERVERS")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("This variable allows you to specify a list of machines of the Zookeeper ensemble. Each entry has the form of "),s("code",[this._v("server.id=host:port:port")]),this._v(". Entries are separated with space. Do note that this variable will not have any effect if you start the container with a "),s("code",[this._v("/conf")]),this._v(" directory that already contains the "),s("code",[this._v("zoo.cfg")]),this._v(" file.")])}],!1,null,null,null);s.default=n.exports}}]);